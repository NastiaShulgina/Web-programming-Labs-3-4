{"ast":null,"code":"import { ADD_PRODUCT_BASKET, GET_NUMBERS_BASKET, CLEAR_PRODUCT } from \"../actions/types\";\nconst initialState = {\n  basketNumbers: 0,\n  cartCost: 0,\n  products: []\n};\nexport default (function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case ADD_PRODUCT_BASKET:\n      var product = state.products.find(item => item.id === action.payload.id);\n\n      if (product) {\n        var index = state.products.indexOf(product);\n        var products = state.products;\n        products[index].quantity += 1;\n        return { ...state,\n          basketNumbers: state.basketNumbers + 1,\n          cartCost: state.cartCost + action.payload.price,\n          products: products\n        };\n      } else {\n        var obj = { ...action.payload,\n          quantity: 1\n        };\n        return { ...state,\n          basketNumbers: state.basketNumbers + 1,\n          cartCost: state.cartCost + action.payload.price,\n          products: state.products.concat(obj)\n        };\n      }\n\n    case GET_NUMBERS_BASKET:\n      return { ...state\n      };\n\n    case CLEAR_PRODUCT:\n      return { ...state,\n        basketNumbers: state.basketNumbers - action.payload.quantity,\n        cartCost: state.cartCost - action.payload.quantity * action.payload.price,\n        products: state.products.filter(item => item.id !== action.payload.id)\n      };\n\n    default:\n      return state;\n  }\n});","map":{"version":3,"sources":["C:/Users/User/Desktop/lab10/src/reducers/basketReducer.js"],"names":["ADD_PRODUCT_BASKET","GET_NUMBERS_BASKET","CLEAR_PRODUCT","initialState","basketNumbers","cartCost","products","state","action","type","product","find","item","id","payload","index","indexOf","quantity","price","obj","concat","filter"],"mappings":"AAAA,SAASA,kBAAT,EAA6BC,kBAA7B,EAAiDC,aAAjD,QAAqE,kBAArE;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,aAAa,EAAE,CADE;AAEjBC,EAAAA,QAAQ,EAAE,CAFO;AAGjBC,EAAAA,QAAQ,EAAE;AAHO,CAArB;AAMA,gBAAe,YAAiC;AAAA,MAAhCC,KAAgC,uEAAxBJ,YAAwB;AAAA,MAAVK,MAAU;;AAC5C,UAAOA,MAAM,CAACC,IAAd;AACI,SAAKT,kBAAL;AACI,UAAIU,OAAO,GAAGH,KAAK,CAACD,QAAN,CAAeK,IAAf,CAAoBC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYL,MAAM,CAACM,OAAP,CAAeD,EAAvD,CAAd;;AAEA,UAAIH,OAAJ,EAAa;AACT,YAAIK,KAAK,GAAGR,KAAK,CAACD,QAAN,CAAeU,OAAf,CAAuBN,OAAvB,CAAZ;AACA,YAAIJ,QAAQ,GAAGC,KAAK,CAACD,QAArB;AACAA,QAAAA,QAAQ,CAACS,KAAD,CAAR,CAAgBE,QAAhB,IAA4B,CAA5B;AACA,eAAO,EACH,GAAGV,KADA;AAEHH,UAAAA,aAAa,EAAEG,KAAK,CAACH,aAAN,GAAsB,CAFlC;AAGHC,UAAAA,QAAQ,EAAEE,KAAK,CAACF,QAAN,GAAiBG,MAAM,CAACM,OAAP,CAAeI,KAHvC;AAIHZ,UAAAA,QAAQ,EAAEA;AAJP,SAAP;AAMH,OAVD,MAUO;AACH,YAAIa,GAAG,GAAG,EAAC,GAAGX,MAAM,CAACM,OAAX;AAAoBG,UAAAA,QAAQ,EAAE;AAA9B,SAAV;AACA,eAAO,EACH,GAAGV,KADA;AAEHH,UAAAA,aAAa,EAAEG,KAAK,CAACH,aAAN,GAAsB,CAFlC;AAGHC,UAAAA,QAAQ,EAAEE,KAAK,CAACF,QAAN,GAAiBG,MAAM,CAACM,OAAP,CAAeI,KAHvC;AAIHZ,UAAAA,QAAQ,EAAEC,KAAK,CAACD,QAAN,CAAec,MAAf,CAAsBD,GAAtB;AAJP,SAAP;AAMH;;AACL,SAAKlB,kBAAL;AACI,aAAO,EACH,GAAGM;AADA,OAAP;;AAGJ,SAAKL,aAAL;AACI,aAAM,EACF,GAAGK,KADD;AAEFH,QAAAA,aAAa,EAAEG,KAAK,CAACH,aAAN,GAAsBI,MAAM,CAACM,OAAP,CAAeG,QAFlD;AAGFZ,QAAAA,QAAQ,EAAEE,KAAK,CAACF,QAAN,GAAkBG,MAAM,CAACM,OAAP,CAAeG,QAAf,GAA0BT,MAAM,CAACM,OAAP,CAAeI,KAHnE;AAIFZ,QAAAA,QAAQ,EAAEC,KAAK,CAACD,QAAN,CAAee,MAAf,CAAsBT,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYL,MAAM,CAACM,OAAP,CAAeD,EAAzD;AAJR,OAAN;;AAMJ;AACI,aAAON,KAAP;AAnCR;AAqCH,CAtCD","sourcesContent":["import { ADD_PRODUCT_BASKET, GET_NUMBERS_BASKET, CLEAR_PRODUCT} from \"../actions/types\";\n\nconst initialState = {\n    basketNumbers: 0,\n    cartCost: 0,\n    products: []\n}\n\nexport default (state = initialState, action) =>{\n    switch(action.type) {\n        case ADD_PRODUCT_BASKET:\n            var product = state.products.find(item => item.id === action.payload.id)\n\n            if (product) {\n                var index = state.products.indexOf(product)\n                var products = state.products\n                products[index].quantity += 1\n                return {\n                    ...state,\n                    basketNumbers: state.basketNumbers + 1,\n                    cartCost: state.cartCost + action.payload.price,\n                    products: products\n                }\n            } else {\n                var obj = {...action.payload, quantity: 1}\n                return {\n                    ...state,\n                    basketNumbers: state.basketNumbers + 1,\n                    cartCost: state.cartCost + action.payload.price,\n                    products: state.products.concat(obj)\n                }\n            }      \n        case GET_NUMBERS_BASKET:\n            return {\n                ...state\n            }\n        case CLEAR_PRODUCT:\n            return{\n                ...state,\n                basketNumbers: state.basketNumbers - action.payload.quantity,\n                cartCost: state.cartCost - (action.payload.quantity * action.payload.price),\n                products: state.products.filter(item => item.id !== action.payload.id)\n            }\n        default:\n            return state;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}