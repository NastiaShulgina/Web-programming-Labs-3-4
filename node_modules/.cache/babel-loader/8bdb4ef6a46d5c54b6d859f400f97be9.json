{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\lab10\\\\src\\\\components\\\\Catalog.js\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport '../App.css';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport foodsCatalog from '../static/foodsCatalog';\nimport DataFetching from './DataFetching';\nconst useStyles = makeStyles(theme => ({\n  root: {\n    minHeight: '100vh',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  inputs: {\n    width: '80%',\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    margin: '0 auto'\n  },\n  filter: {\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  }\n}));\nexport default function Catalog() {\n  const classes = useStyles();\n  const [searchText, setSearchText] = useState('');\n  const [foods, setPosts] = useState([]);\n  const [sortType, setSortType] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const handleChange = value => {\n    axios.get(`http://127.0.0.1:5000/search?title=${value}`).then(res => {\n      setPosts(res.data);\n    });\n    setSearchText(value);\n  };\n\n  const onSort = sortType => {\n    setSortType(sortType);\n  };\n\n  foods.sort((a, b) => {\n    if (sortType != null) {\n      const isReserved = sortType === 'asc' ? 1 : -1;\n      return isReserved * a.title.localeCompare(b.title);\n    }\n  });\n  useEffect(() => {\n    axios.get('http://127.0.0.1:5000/foods').then(res => {\n      console.log(res.data);\n      setPosts(res.data);\n      setTimeout(() => {\n        setLoading(false);\n      }, 2000);\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n  return loading === true ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"circular\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 30\n    }\n  }, /*#__PURE__*/React.createElement(CircularProgress, {\n    className: \"circularProgress\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 56\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.inputs,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.filter,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"buttonSort\",\n    onClick: () => onSort('asc'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 21\n    }\n  }, \"Sort by asc\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"buttonSort\",\n    onClick: () => onSort('desc'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, \"Sort by desc\")), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"inputSearch\",\n    type: \"text\",\n    placeholder: \"Type to search...\",\n    value: searchText,\n    onChange: e => handleChange(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.root,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(DataFetching, {\n    foods: foods,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 25\n    }\n  }), foods.length === 0 && /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 48\n    }\n  }, \"No records found to display!\")))));\n}","map":{"version":3,"sources":["C:/Users/User/Desktop/lab10/src/components/Catalog.js"],"names":["React","useState","useEffect","axios","CircularProgress","makeStyles","foodsCatalog","DataFetching","useStyles","theme","root","minHeight","display","justifyContent","alignItems","inputs","width","margin","filter","Catalog","classes","searchText","setSearchText","foods","setPosts","sortType","setSortType","loading","setLoading","handleChange","value","get","then","res","data","onSort","sort","a","b","isReserved","title","localeCompare","console","log","setTimeout","catch","err","e","target","length"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport '../App.css';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport { makeStyles } from '@material-ui/core/styles';\nimport foodsCatalog from '../static/foodsCatalog';\nimport DataFetching from './DataFetching';\n\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        minHeight: '100vh',\n        display: 'flex',\n        justifyContent: 'center',\n        alignItems: 'center',\n    },\n    inputs: {\n        width: '80%',\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n        margin: '0 auto',\n    },\n    filter:{\n        display: 'flex',\n        justifyContent: 'space-between',\n        alignItems: 'center',\n    }\n}));\n\n\nexport default function Catalog() {\n    const classes = useStyles();\n\n\n    const [searchText, setSearchText] = useState('');\n    const [foods, setPosts] = useState([])\n    \n    const [sortType, setSortType] = useState(null)\n\n    const [loading, setLoading] = useState(true)\n\n    const handleChange = value => {\n        axios.get(`http://127.0.0.1:5000/search?title=${value}`).then(res => {\n            setPosts(res.data)\n        })\n        setSearchText(value);\n    }\n\n    const onSort = sortType => {\n        setSortType(sortType);\n    }\n\n    foods.sort((a , b) => {\n        if (sortType != null) {\n            const isReserved = (sortType === 'asc') ? 1: -1;\n            return isReserved * a.title.localeCompare(b.title)\n        } \n    });\n\n    useEffect(() => {\n        axios.get('http://127.0.0.1:5000/foods')\n            .then(res => {\n                console.log(res.data)\n                setPosts(res.data)\n                setTimeout(() =>{\n                    setLoading(false)\n                }, 2000)\n                \n            })\n            .catch(err => {\n                console.log(err)\n            })\n    }, [])\n\n\n    return (loading===true ? <div className=\"circular\"><CircularProgress className=\"circularProgress\" /></div> : \n        <div>\n            <div className={classes.inputs}>\n                <div className={classes.filter}>\n                    <button className=\"buttonSort\" onClick={() => onSort('asc')}>Sort by asc</button>\n                    <button className=\"buttonSort\" onClick={() => onSort('desc')}>Sort by desc</button>         \n                </div>\n                <input \n                className=\"inputSearch\"\n                type=\"text\"\n                placeholder=\"Type to search...\"\n                value={searchText}\n                onChange={e => handleChange(e.target.value)}\n                />\n            </div>\n            <div className=\"\">\n                <div className=\"\">\n                    <div className={classes.root}>\n                        <DataFetching foods={ foods } />\n                        {foods.length === 0 && <span>No records found to display!</span>}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}